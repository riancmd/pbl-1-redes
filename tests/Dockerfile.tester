# usa a imagem do go
FROM golang:1.22-alpine as builder

# define o diret칩rio de trabalho
WORKDIR /app

# copia os arquivos de c칩digo
COPY . .

# define o comando para rodar os testes
# CGO_ENABLED=0 garante um bin치rio est치tico, e -race ativa o detector de race condition
CMD ["go", "test", "-v", "-run", "TestStressScenario", "-race"]